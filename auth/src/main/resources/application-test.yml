# =========================
# TEST CONFIGURATION
# =========================
# Used ONLY for unit and slice tests (CI & local)
# No external dependencies allowed here

spring:
  # -------------------------------------------------
  # Application
  # -------------------------------------------------
  application:
    name: auth-test

  # -------------------------------------------------
  # Database (H2 in-memory)
  # -------------------------------------------------
  datasource:
    url: jdbc:h2:mem:testdb;DB_CLOSE_DELAY=-1;MODE=PostgreSQL
    driver-class-name: org.h2.Driver
    username: sa
    password:

  # -------------------------------------------------
  # JPA / Hibernate
  # -------------------------------------------------
  jpa:
    hibernate:
      ddl-auto: none
    show-sql: false
    open-in-view: false

  # -------------------------------------------------
  # Flyway DISABLED
  # -------------------------------------------------
  flyway:
    enabled: false

# =========================
# Security (TEST)
# =========================
security:
  jwt:
    # Fake but valid-length secret for tests
    secret: test-secret-32-characters-minimum!!
    expiration-minutes: 60

# =========================
# Logging (TEST)
# =========================
logging:
  level:
    root: WARN
    at.campus.auth: WARN
    org.springframework.security: OFF
